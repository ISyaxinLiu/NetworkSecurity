[ 2025-09-01 16:00:07,488 ] 1025 httpx - INFO - HTTP Request: GET https://dagshub.com/api/v1/user "HTTP/1.1 200 OK"
[ 2025-09-01 16:00:07,494 ] 107 dagshub - INFO - Accessing as ISyaxinLiu
[ 2025-09-01 16:00:09,558 ] 1025 httpx - INFO - HTTP Request: GET https://dagshub.com/api/v1/repos/ISyaxinLiu/NetworkSecurity "HTTP/1.1 200 OK"
[ 2025-09-01 16:00:10,569 ] 1025 httpx - INFO - HTTP Request: GET https://dagshub.com/api/v1/user "HTTP/1.1 200 OK"
[ 2025-09-01 16:00:10,570 ] 107 dagshub - INFO - Initialized MLflow to track repo "ISyaxinLiu/NetworkSecurity"
[ 2025-09-01 16:00:10,570 ] 107 dagshub - INFO - Repository ISyaxinLiu/NetworkSecurity initialized!
[ 2025-09-01 16:00:11,606 ] 1025 httpx - INFO - HTTP Request: GET https://dagshub.com/api/v1/repos/ISyaxinLiu/NetworkSecurity "HTTP/1.1 200 OK"
[ 2025-09-01 16:00:11,613 ] 107 dagshub - INFO - Initialized MLflow to track repo "ISyaxinLiu/NetworkSecurity"
[ 2025-09-01 16:00:11,613 ] 107 dagshub - INFO - Repository ISyaxinLiu/NetworkSecurity initialized!
[ 2025-09-01 16:00:11,613 ] 64 root - INFO - DagHub和MLflow初始化成功
[ 2025-09-01 16:00:11,613 ] 85 root - INFO - === 开始数据摄取阶段 ===
[ 2025-09-01 16:00:11,613 ] 88 root - INFO - Initiate the data ingestion
[ 2025-09-01 16:00:11,613 ] 182 root - INFO - 开始数据摄取流程
[ 2025-09-01 16:00:11,613 ] 185 root - INFO - 从PostgreSQL数据库读取数据
[ 2025-09-01 16:00:11,613 ] 45 root - INFO - 开始从PostgreSQL读取数据: 数据库=ns, 表=NetworkData
[ 2025-09-01 16:00:11,723 ] 59 root - INFO - 使用SQLAlchemy成功读取数据: 11055 行, 33 列
[ 2025-09-01 16:00:11,723 ] 88 root - INFO - 移除了数据库ID列
[ 2025-09-01 16:00:11,723 ] 92 root - INFO - 移除了创建时间列
[ 2025-09-01 16:00:11,723 ] 97 root - INFO - 数据读取完成，最终数据形状: (11055, 31)
[ 2025-09-01 16:00:11,723 ] 98 root - INFO - 列名: ['having_IP_Address', 'URL_Length', 'Shortining_Service', 'having_At_Symbol', 'double_slash_redirecting', 'Prefix_Suffix', 'having_Sub_Domain', 'SSLfinal_State', 'Domain_registeration_length', 'Favicon', 'port', 'HTTPS_token', 'Request_URL', 'URL_of_Anchor', 'Links_in_tags', 'SFH', 'Submitting_to_email', 'Abnormal_URL', 'Redirect', 'on_mouseover', 'RightClick', 'popUpWidnow', 'Iframe', 'age_of_domain', 'DNSRecord', 'web_traffic', 'Page_Rank', 'Google_Index', 'Links_pointing_to_page', 'Statistical_report', 'Result']
[ 2025-09-01 16:00:11,723 ] 189 root - INFO - 读取数据概览:
[ 2025-09-01 16:00:11,723 ] 190 root - INFO -   - 数据形状: (11055, 31)
[ 2025-09-01 16:00:11,723 ] 191 root - INFO -   - 缺失值数量: 0
[ 2025-09-01 16:00:11,723 ] 194 root - INFO -   - 目标变量分布: {1: 6157, -1: 4898}
[ 2025-09-01 16:00:11,723 ] 197 root - INFO - 导出数据到特征存储
[ 2025-09-01 16:00:11,753 ] 124 root - INFO - 数据成功导出到特征存储: Artifacts\09_01_2025_16_00_05\data_ingestion\feature_store\phisingData.csv
[ 2025-09-01 16:00:11,753 ] 125 root - INFO - 导出数据形状: (11055, 31)
[ 2025-09-01 16:00:11,753 ] 201 root - INFO - 分割数据为训练集和测试集
[ 2025-09-01 16:00:11,753 ] 146 root - INFO - Performed train test split on the dataframe
[ 2025-09-01 16:00:11,753 ] 147 root - INFO - 训练集大小: 8844, 测试集大小: 2211
[ 2025-09-01 16:00:11,753 ] 149 root - INFO - Exited split_data_as_train_test method of Data_Ingestion class
[ 2025-09-01 16:00:11,753 ] 157 root - INFO - Exporting train and test file path.
[ 2025-09-01 16:00:11,781 ] 169 root - INFO - Exported train and test file path.
[ 2025-09-01 16:00:11,781 ] 170 root - INFO - 训练文件: Artifacts\09_01_2025_16_00_05\data_ingestion\ingested\train.csv
[ 2025-09-01 16:00:11,781 ] 171 root - INFO - 测试文件: Artifacts\09_01_2025_16_00_05\data_ingestion\ingested\test.csv
[ 2025-09-01 16:00:11,782 ] 210 root - INFO - 数据摄取流程完成
[ 2025-09-01 16:00:11,782 ] 211 root - INFO - 训练文件: Artifacts\09_01_2025_16_00_05\data_ingestion\ingested\train.csv
[ 2025-09-01 16:00:11,782 ] 212 root - INFO - 测试文件: Artifacts\09_01_2025_16_00_05\data_ingestion\ingested\test.csv
[ 2025-09-01 16:00:11,782 ] 90 root - INFO - Data Initiation Completed
[ 2025-09-01 16:00:11,782 ] 94 root - INFO - === 开始数据验证阶段 ===
[ 2025-09-01 16:00:11,786 ] 97 root - INFO - Initiate the data Validation
[ 2025-09-01 16:00:11,786 ] 182 root - INFO - 开始数据验证流程
[ 2025-09-01 16:00:11,786 ] 183 root - INFO - 训练文件: Artifacts\09_01_2025_16_00_05\data_ingestion\ingested\train.csv
[ 2025-09-01 16:00:11,786 ] 184 root - INFO - 测试文件: Artifacts\09_01_2025_16_00_05\data_ingestion\ingested\test.csv
[ 2025-09-01 16:00:11,810 ] 190 root - INFO - 训练数据形状: (8844, 31)
[ 2025-09-01 16:00:11,810 ] 191 root - INFO - 测试数据形状: (2211, 31)
[ 2025-09-01 16:00:11,810 ] 44 root - INFO - Required number of columns: 31
[ 2025-09-01 16:00:11,810 ] 45 root - INFO - Data frame has columns: 31
[ 2025-09-01 16:00:11,810 ] 46 root - INFO - Data frame columns: ['having_IP_Address', 'URL_Length', 'Shortining_Service', 'having_At_Symbol', 'double_slash_redirecting', 'Prefix_Suffix', 'having_Sub_Domain', 'SSLfinal_State', 'Domain_registeration_length', 'Favicon', 'port', 'HTTPS_token', 'Request_URL', 'URL_of_Anchor', 'Links_in_tags', 'SFH', 'Submitting_to_email', 'Abnormal_URL', 'Redirect', 'on_mouseover', 'RightClick', 'popUpWidnow', 'Iframe', 'age_of_domain', 'DNSRecord', 'web_traffic', 'Page_Rank', 'Google_Index', 'Links_pointing_to_page', 'Statistical_report', 'Result']
[ 2025-09-01 16:00:11,810 ] 44 root - INFO - Required number of columns: 31
[ 2025-09-01 16:00:11,810 ] 45 root - INFO - Data frame has columns: 31
[ 2025-09-01 16:00:11,810 ] 46 root - INFO - Data frame columns: ['having_IP_Address', 'URL_Length', 'Shortining_Service', 'having_At_Symbol', 'double_slash_redirecting', 'Prefix_Suffix', 'having_Sub_Domain', 'SSLfinal_State', 'Domain_registeration_length', 'Favicon', 'port', 'HTTPS_token', 'Request_URL', 'URL_of_Anchor', 'Links_in_tags', 'SFH', 'Submitting_to_email', 'Abnormal_URL', 'Redirect', 'on_mouseover', 'RightClick', 'popUpWidnow', 'Iframe', 'age_of_domain', 'DNSRecord', 'web_traffic', 'Page_Rank', 'Google_Index', 'Links_pointing_to_page', 'Statistical_report', 'Result']
[ 2025-09-01 16:00:11,810 ] 82 root - INFO - 所有数值列验证通过
[ 2025-09-01 16:00:11,813 ] 82 root - INFO - 所有数值列验证通过
[ 2025-09-01 16:00:11,813 ] 108 root - INFO - Target column validation passed. Values: [-1  1]
[ 2025-09-01 16:00:11,813 ] 108 root - INFO - Target column validation passed. Values: [-1  1]
[ 2025-09-01 16:00:11,813 ] 232 root - INFO - 开始检测数据漂移
[ 2025-09-01 16:00:11,814 ] 145 root - INFO - Column having_IP_Address: p_value=0.9903, drift=False
[ 2025-09-01 16:00:11,814 ] 145 root - INFO - Column URL_Length: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,814 ] 145 root - INFO - Column Shortining_Service: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,814 ] 145 root - INFO - Column having_At_Symbol: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,818 ] 145 root - INFO - Column double_slash_redirecting: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,818 ] 145 root - INFO - Column Prefix_Suffix: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,818 ] 145 root - INFO - Column having_Sub_Domain: p_value=0.2003, drift=False
[ 2025-09-01 16:00:11,824 ] 145 root - INFO - Column SSLfinal_State: p_value=0.9715, drift=False
[ 2025-09-01 16:00:11,824 ] 145 root - INFO - Column Domain_registeration_length: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,824 ] 145 root - INFO - Column Favicon: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,824 ] 145 root - INFO - Column port: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,824 ] 145 root - INFO - Column HTTPS_token: p_value=0.9988, drift=False
[ 2025-09-01 16:00:11,829 ] 145 root - INFO - Column Request_URL: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,829 ] 145 root - INFO - Column URL_of_Anchor: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,831 ] 145 root - INFO - Column Links_in_tags: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,832 ] 145 root - INFO - Column SFH: p_value=0.9786, drift=False
[ 2025-09-01 16:00:11,833 ] 145 root - INFO - Column Submitting_to_email: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,834 ] 145 root - INFO - Column Abnormal_URL: p_value=0.9994, drift=False
[ 2025-09-01 16:00:11,835 ] 145 root - INFO - Column Redirect: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,836 ] 145 root - INFO - Column on_mouseover: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,837 ] 145 root - INFO - Column RightClick: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,838 ] 145 root - INFO - Column popUpWidnow: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,838 ] 145 root - INFO - Column Iframe: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,841 ] 145 root - INFO - Column age_of_domain: p_value=0.6771, drift=False
[ 2025-09-01 16:00:11,841 ] 145 root - INFO - Column DNSRecord: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,843 ] 145 root - INFO - Column web_traffic: p_value=0.9965, drift=False
[ 2025-09-01 16:00:11,845 ] 145 root - INFO - Column Page_Rank: p_value=0.9983, drift=False
[ 2025-09-01 16:00:11,845 ] 145 root - INFO - Column Google_Index: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,847 ] 145 root - INFO - Column Links_pointing_to_page: p_value=0.9688, drift=False
[ 2025-09-01 16:00:11,848 ] 145 root - INFO - Column Statistical_report: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,848 ] 145 root - INFO - Column Result: p_value=1.0000, drift=False
[ 2025-09-01 16:00:11,852 ] 164 root - INFO - Drift report saved to: Artifacts\09_01_2025_16_00_05\data_validation\drift_report\report.yaml
[ 2025-09-01 16:00:11,852 ] 238 root - INFO - 未检测到显著数据漂移
[ 2025-09-01 16:00:11,878 ] 259 root - INFO - 数据验证通过，文件保存到valid目录
[ 2025-09-01 16:00:11,878 ] 291 root - INFO - 数据验证流程完成
[ 2025-09-01 16:00:11,878 ] 99 root - INFO - data Validation Completed
[ 2025-09-01 16:00:11,878 ] 107 root - INFO - === 开始数据转换阶段 ===
[ 2025-09-01 16:00:11,878 ] 109 root - INFO - data Transformation started
[ 2025-09-01 16:00:11,878 ] 60 root - INFO - Entered initiate_data_transformation method of DataTransformation class
[ 2025-09-01 16:00:11,878 ] 62 root - INFO - Starting data transformation
[ 2025-09-01 16:00:11,900 ] 75 root - INFO - Training data shape: (8844, 31)
[ 2025-09-01 16:00:11,900 ] 76 root - INFO - Testing data shape: (2211, 31)
[ 2025-09-01 16:00:11,900 ] 83 root - INFO - Training features shape: (8844, 30)
[ 2025-09-01 16:00:11,900 ] 84 root - INFO - Training target distribution: {1: 4926, 0: 3918}
[ 2025-09-01 16:00:11,900 ] 91 root - INFO - Testing features shape: (2211, 30)
[ 2025-09-01 16:00:11,900 ] 92 root - INFO - Testing target distribution: {1: 1231, 0: 980}
[ 2025-09-01 16:00:11,900 ] 46 root - INFO - Entered get_data_transformer_object method of DataTransformation class
[ 2025-09-01 16:00:11,900 ] 51 root - INFO - Initialised KNNImputer with {'missing_values': nan, 'n_neighbors': 3, 'weights': 'uniform'}
[ 2025-09-01 16:00:11,900 ] 98 root - INFO - Fitting preprocessor on training data
[ 2025-09-01 16:00:11,904 ] 102 root - INFO - Transforming training data
[ 2025-09-01 16:00:11,904 ] 105 root - INFO - Transforming testing data
[ 2025-09-01 16:00:11,905 ] 108 root - INFO - Transformed training data shape: (8844, 30)
[ 2025-09-01 16:00:11,905 ] 109 root - INFO - Transformed testing data shape: (2211, 30)
[ 2025-09-01 16:00:11,905 ] 115 root - INFO - Final training array shape: (8844, 31)
[ 2025-09-01 16:00:11,905 ] 116 root - INFO - Final testing array shape: (2211, 31)
[ 2025-09-01 16:00:11,905 ] 124 root - INFO - Saving transformed data arrays
[ 2025-09-01 16:00:11,905 ] 135 root - INFO - Saving preprocessor object
[ 2025-09-01 16:00:11,905 ] 46 root - INFO - Entered the save_object method of MainUtils class
[ 2025-09-01 16:00:11,905 ] 50 root - INFO - Exited the save_object method of MainUtils class
[ 2025-09-01 16:00:11,905 ] 46 root - INFO - Entered the save_object method of MainUtils class
[ 2025-09-01 16:00:11,905 ] 50 root - INFO - Exited the save_object method of MainUtils class
[ 2025-09-01 16:00:11,905 ] 149 root - INFO - Data transformation completed successfully
[ 2025-09-01 16:00:11,905 ] 158 root - INFO - Data transformation artifact created:
[ 2025-09-01 16:00:11,905 ] 159 root - INFO -   - Preprocessor: Artifacts\09_01_2025_16_00_05\data_transformation\transformed_object\preprocessing.pkl
[ 2025-09-01 16:00:11,905 ] 160 root - INFO -   - Training data: Artifacts\09_01_2025_16_00_05\data_transformation\transformed\train.npy
[ 2025-09-01 16:00:11,905 ] 161 root - INFO -   - Testing data: Artifacts\09_01_2025_16_00_05\data_transformation\transformed\test.npy
[ 2025-09-01 16:00:11,911 ] 113 root - INFO - data Transformation completed
[ 2025-09-01 16:00:11,911 ] 116 root - INFO - === 开始模型训练阶段 ===
[ 2025-09-01 16:00:11,911 ] 282 root - INFO - 开始模型训练流程
[ 2025-09-01 16:00:11,911 ] 287 root - INFO - 训练数据文件: Artifacts\09_01_2025_16_00_05\data_transformation\transformed\train.npy
[ 2025-09-01 16:00:11,911 ] 288 root - INFO - 测试数据文件: Artifacts\09_01_2025_16_00_05\data_transformation\transformed\test.npy
[ 2025-09-01 16:00:11,913 ] 300 root - INFO - 训练数组形状: (8844, 31)
[ 2025-09-01 16:00:11,913 ] 301 root - INFO - 测试数组形状: (2211, 31)
[ 2025-09-01 16:00:11,913 ] 307 root - INFO - 特征维度: 30
[ 2025-09-01 16:00:11,913 ] 308 root - INFO - 训练样本数: 8844
[ 2025-09-01 16:00:11,913 ] 309 root - INFO - 测试样本数: 2211
[ 2025-09-01 16:00:11,913 ] 145 root - INFO - 开始模型训练和评估
[ 2025-09-01 16:00:11,913 ] 179 root - INFO - 训练数据形状: (8844, 30)
[ 2025-09-01 16:00:11,913 ] 180 root - INFO - 测试数据形状: (2211, 30)
[ 2025-09-01 16:00:11,913 ] 181 root - INFO - 训练标签分布: {np.int64(0): np.int64(3918), np.int64(1): np.int64(4926)}
[ 2025-09-01 16:00:11,913 ] 182 root - INFO - 测试标签分布: {np.int64(0): np.int64(980), np.int64(1): np.int64(1231)}
[ 2025-09-01 16:00:51,449 ] 191 root - INFO - 模型评估报告: {'Random Forest': {'accuracy': 0.9547715965626413, 'precision': 0.9463299131807419, 'recall': 0.9740048740861088, 'f1_score': 0.9599679743795037}, 'Decision Tree': {'accuracy': 0.9470827679782904, 'precision': 0.955810147299509, 'recall': 0.9488220958570268, 'f1_score': 0.9523033020790869}, 'Gradient Boosting': {'accuracy': 0.9642695612844867, 'precision': 0.9637681159420289, 'recall': 0.9723801787164906, 'f1_score': 0.9680549939344926}, 'Logistic Regression': {'accuracy': 0.9317051108095884, 'precision': 0.9265402843601895, 'recall': 0.9528838342810723, 'f1_score': 0.9395274329195034}, 'AdaBoost': {'accuracy': 0.9339665309814563, 'precision': 0.9302141157811261, 'recall': 0.9528838342810723, 'f1_score': 0.9414125200642055}}
[ 2025-09-01 16:00:51,449 ] 203 root - INFO - 最佳模型: Gradient Boosting, F1分数: 0.9681
[ 2025-09-01 16:00:52,143 ] 221 root - INFO - 训练集指标 - F1: 0.9738, 精确率: 0.9706, 召回率: 0.9771
[ 2025-09-01 16:00:52,143 ] 225 root - INFO - 测试集指标 - F1: 0.9701, 精确率: 0.9639, 召回率: 0.9764
[ 2025-09-01 16:01:01,358 ] 123 root - INFO - MLflow跟踪完成: https://dagshub.com/ISyaxinLiu/NetworkSecurity.mlflow/#/experiments/2/runs/e850095a3d48468b85d52cd5cefd8c5e
[ 2025-09-01 16:01:02,311 ] 46 root - INFO - Entered the save_object method of MainUtils class
[ 2025-09-01 16:01:02,314 ] 50 root - INFO - Exited the save_object method of MainUtils class
[ 2025-09-01 16:01:02,314 ] 46 root - INFO - Entered the save_object method of MainUtils class
[ 2025-09-01 16:01:02,316 ] 50 root - INFO - Exited the save_object method of MainUtils class
[ 2025-09-01 16:01:02,316 ] 262 root - INFO - 模型已保存到: Artifacts\09_01_2025_16_00_05\model_trainer\trained_model\model.pkl
[ 2025-09-01 16:01:02,316 ] 263 root - INFO - 模型已保存到: final_model/model.pkl
[ 2025-09-01 16:01:02,316 ] 314 root - INFO - 模型训练流程完成
[ 2025-09-01 16:01:02,316 ] 315 root - INFO - 模型训练工件: ModelTrainerArtifact(trained_model_file_path='Artifacts\\09_01_2025_16_00_05\\model_trainer\\trained_model\\model.pkl', train_metric_artifact=ClassificationMetricArtifact(f1_score=0.9737986848760749, precision_score=0.9705585803589434, recall_score=0.9770604953308972), test_metric_artifact=ClassificationMetricArtifact(f1_score=0.970137207425343, precision_score=0.9639133921411387, recall_score=0.9764419171405362))
[ 2025-09-01 16:01:02,316 ] 127 root - INFO - Model Training artifact created
